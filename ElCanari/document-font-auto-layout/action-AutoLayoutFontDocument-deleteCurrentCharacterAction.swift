//--- START OF USER ZONE 1


//--- END OF USER ZONE 1
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

extension AutoLayoutFontDocument {
  @objc func deleteCurrentCharacterAction (_ sender : NSObject?) {
//--- START OF USER ZONE 2
      //--- Search character
        var charArray = self.rootObject.characters_property.propval
        var possibleCurrentCharacterIndex : Int? = nil
        let codePoint = self.rootObject.currentCharacterCodePoint
        var idx = 0
        for character in charArray.values {
          if character.codePoint == codePoint {
            possibleCurrentCharacterIndex = idx
            break
          }
          idx += 1
        }
      //--- If found, delete it
        if let currentCharacterIndex = possibleCurrentCharacterIndex {
          // Swift.print ("currentCharacterIndex \(currentCharacterIndex)")
          charArray.remove (at: currentCharacterIndex)
          self.rootObject.characters_property.setProp (charArray)
          var nextSelectedCharacterIndex = currentCharacterIndex
          if nextSelectedCharacterIndex >= charArray.count {
            nextSelectedCharacterIndex = charArray.count - 1
          }
          self.rootObject.currentCharacterCodePoint = charArray [nextSelectedCharacterIndex].codePoint
        }
//--- END OF USER ZONE 2
  }
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
