//--- START OF USER ZONE 1


//--- END OF USER ZONE 1
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import Cocoa

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

extension AutoLayoutMergerDocument {
  @objc func generateProductFilesAction (_ sender : NSObject?) {
//--- START OF USER ZONE 2
    switch self.issues_property.selection {
    case .multiple, .empty :
      break
    case .single (let issues) :
      if issues.count == 0 {
        self.checkLayerConfigurationAndGenerateProductFiles ()
      }else{ // if let displaySettingView = self.mDisplaySettingView {
        let alert = NSAlert ()
        alert.messageText = "The board contains errors and / or warnings"
        alert.addButton (withTitle: "Cancel")
        alert.addButton (withTitle: "Proceed anyway")
        alert.addButton (withTitle: "Show issues")
        alert.beginSheetModal (
          for: self.windowForSheet!,
          completionHandler: {(response : NSApplication.ModalResponse) in
            if response == .alertSecondButtonReturn { // Proceed anyway
              self.checkLayerConfigurationAndGenerateProductFiles ()
            }else if response == .alertThirdButtonReturn { // Show issues
            //--- Select board page
              self.rootObject.selectedPageIndex = 1
            //--- Select issue in tabview
              self.mBoardInspectorSegmentedControl?.setSelectedSegment (atIndex: 1)
            //--- Select first issue
              self.mBoardIssueTableView?.selectRow (atIndex: 0)
            }
          }
        )
      }
    }
//--- END OF USER ZONE 2
  }
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
