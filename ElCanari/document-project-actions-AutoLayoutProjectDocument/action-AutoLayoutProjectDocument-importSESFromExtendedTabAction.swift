//--- START OF USER ZONE 1


//--- END OF USER ZONE 1
//--------------------------------------------------------------------------------------------------
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//--------------------------------------------------------------------------------------------------

import AppKit

//--------------------------------------------------------------------------------------------------

extension AutoLayoutProjectDocument {
  @objc func importSESFromExtendedTabAction (_ inSender : NSObject?) {
//--- START OF USER ZONE 2
    let openPanel = NSOpenPanel ()
  //--- Default directory
    let savedDirectoryURL = openPanel.directoryURL
    let ud = UserDefaults.standard
    if let url = ud.url (forKey: DSN_SES_DIRECTORY_USER_DEFAULT_KEY) {
      openPanel.directoryURL = url
    }
    openPanel.allowsMultipleSelection = false
    openPanel.canChooseDirectories = false
    openPanel.canChooseFiles = true
    openPanel.allowedFileTypes = ["ses"]
    openPanel.beginSheetModal (for: self.windowForSheet!) { (inReturnCode) in
      openPanel.orderOut (nil)
      if inReturnCode == .OK, let s = try? String (contentsOf: openPanel.urls [0]) {
        ud.set (openPanel.directoryURL, forKey: DSN_SES_DIRECTORY_USER_DEFAULT_KEY)
        self.handleSESFileContents (s)
      }
      openPanel.directoryURL = savedDirectoryURL
    }
//--- END OF USER ZONE 2
  }
}

//——————————————————————————————————————————————————————————————————————————————————————————————————
