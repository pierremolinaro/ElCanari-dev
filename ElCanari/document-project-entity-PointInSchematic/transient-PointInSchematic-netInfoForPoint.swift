//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS REGENERATED BY EASY BINDINGS, ONLY MODIFY IT WITHIN USER ZONES
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import AppKit

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

@MainActor func transient_PointInSchematic_netInfoForPoint (
       _ self_mLabels_count : Int,                          
       _ self_mSymbol_componentName : String?,              
       _ self_mSymbol_mSymbolInstanceName : String?,        
       _ self_mSymbolPinName : String,                      
       _ self_mSymbol_pinPadAssignments : ThreeStringArray?,
       _ self_mWiresP1s : [AnyObject],                      
       _ self_mWiresP2s : [AnyObject],                      
       _ self_location : CanariPoint,                       
       _ self_mSheet_sheetDescriptor : SchematicSheetDescriptor?
) -> NetInfoPoint {
//--- START OF USER ZONE 2
      //--- Wires
        var wireIndexSet = Set <Int> ()
        for wire in self_mWiresP1s {
          wireIndexSet.insert (objectIntIdentifier (wire))
        }
        for wire in self_mWiresP2s {
          wireIndexSet.insert (objectIntIdentifier (wire))
        }
      //--- Location in sheet
        var locationInfo : SchematicSheetGeometry.PointLocationInfo
        let sheetIndex : Int
        if let sheetDescriptor = self_mSheet_sheetDescriptor {
          sheetIndex = sheetDescriptor.sheetIndex
          locationInfo = sheetDescriptor.sheetLocationString (pointInSheet: self_location)
        }else{
          sheetIndex = 0
          locationInfo = SchematicSheetGeometry.PointLocationInfo (row: -1, column: -1, string: "(no sheet)")
        }
      //--- Labels
        var labelArray = [SchematicSheetGeometry.PointLocationInfo] ()
        if self_mLabels_count > 0 {
          labelArray.append (locationInfo)
        }
        var pinName : String? = nil
        if self_mSymbolPinName != "",
           let symbolInstanceName = self_mSymbol_mSymbolInstanceName,
           let componentName = self_mSymbol_componentName {
          var s = componentName + ":"
          for threeStrings in self_mSymbol_pinPadAssignments ?? [] {
            // Swift.print ("left '\(threeStrings.mLeft)', center '\(threeStrings.mCenter)' right '\(threeStrings.mRight)'")
            if (threeStrings.right == self_mSymbolPinName) && (threeStrings.center == symbolInstanceName) {
              s += threeStrings.left
            }
          }
          pinName = s
//          s += " at " + locationInSheetString
        }
        return NetInfoPoint (
          pinName: pinName,
          sheet: sheetIndex,
          locationInSheet: self_location,
          locationString: locationInfo.string,
          row: locationInfo.row,
          column: locationInfo.column,
          labels: labelArray,
          wires: wireIndexSet
        )
//--- END OF USER ZONE 2
}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
