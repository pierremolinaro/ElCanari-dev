//——————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//——————————————————————————————————————————————————————————————————————————————————————————————————

import AppKit

//——————————————————————————————————————————————————————————————————————————————————————————————————
//   Build PDF image data
//——————————————————————————————————————————————————————————————————————————————————————————————————

@MainActor func buildPDFimageData (frame inFrame : NSRect,
                                   shape inShape : EBShape,
                                   grid inGrid : PDFProductGrid = .noGrid,
                                   backgroundColor inBackColor : NSColor? = nil) -> Data {
  let origin = inFrame.origin
  var tr = AffineTransform ()
  tr.translate (x: -origin.x, y: -origin.y)
  let view = OffscreenView (
    frame: NSRect (origin: NSPoint (), size: inFrame.size),
    strokeBezierPathes: [],
    filledBezierPathes: [],
    shape: inShape.transformed (by: tr),
    backColor: inBackColor,
    grid: inGrid
  )
//  let view = EBOffscreenView (frame: NSRect (origin: NSPoint (), size: inFrame.size), grid: inGrid)
//  view.setBackColor (inBackColor)
//  view.setShape (inShape.transformed (by: tr))
  let data = view.dataWithPDF (inside: view.bounds)
  return data
}

//——————————————————————————————————————————————————————————————————————————————————————————————————
//   Build PDF image
//——————————————————————————————————————————————————————————————————————————————————————————————————

@MainActor func buildPDFimage (frame inFrame : NSRect,
                               shape inShape : EBShape,
                               backgroundColor inBackColor : NSColor? = nil) -> NSImage {
  let pdfData = buildPDFimageData (frame: inFrame, shape: inShape, backgroundColor: inBackColor)
  let image = NSImage (data: pdfData)
  return image ?? NSImage ()
}

//——————————————————————————————————————————————————————————————————————————————————————————————————
