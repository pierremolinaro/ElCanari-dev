//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//  THIS FILE IS GENERATED BY EASY BINDINGS, DO NOT MODIFY IT
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

import AppKit

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//   EBObservablePropertyController
//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

class EBObservablePropertyController : EBOutletEvent {

  //····················································································································

  final private var mPrivateObservedObjects = [WeakObservedObject] ()

  //····················································································································

  init (observedObjects : [EBObservableObjectProtocol], callBack inCallBack : Optional <() -> Void>) {
    for object in observedObjects {
      self.mPrivateObservedObjects.append (WeakObservedObject (object))
    }
    super.init ()
    self.mEventCallBack = inCallBack
    for object in observedObjects {
      object.addEBObserver (self)
    }
  }

  //····················································································································

  override final func unregister () {
    for weakObject in self.mPrivateObservedObjects {
      weakObject.mWeakObservedObject?.removeEBObserver (self)
    }
    self.mPrivateObservedObjects.removeAll ()
    self.mEventCallBack = nil
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

fileprivate struct WeakObservedObject {

  //····················································································································

  weak var mWeakObservedObject : EBObservableObjectProtocol?

  //····················································································································

  init (_ inObservedObject : EBObservableObjectProtocol) {
    self.mWeakObservedObject = inObservedObject
  }

  //····················································································································

}

//——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
