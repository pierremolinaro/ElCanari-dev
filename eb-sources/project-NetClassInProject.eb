//———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
//   Net class
//———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————

entity NetClassInProject {
  toMany NetInProject mNets inverse toOne mNetClass ;
  property String mNetClassName default "Default" ;
  property NSColor mNetClassColor default blue ;

  property Int mTrackWidth default 45_720 ; // 20 mils
  property Int mTrackWidthUnit default 2_286 ; // mil

  property Int mViaHoleDiameter default 45_720 ; // 20 mils
  property Int mViaHoleDiameterUnit default 2_286 ; // mil

  property Int mViaPadDiameter default 91_440 ; // 40 mils
  property Int mViaPadDiameterUnit default 2_286 ; // mil

  property Bool mAllowTracksOnFrontSide default yes ;
  property Bool mAllowTracksOnBackSide default yes ;
  property Bool mAllowTracksOnInner1Layer default yes ;
  property Bool mAllowTracksOnInner2Layer default yes ;
  property Bool mAllowTracksOnInner3Layer default yes ;
  property Bool mAllowTracksOnInner4Layer default yes ;
  
  transient Bool canRemove dependsFrom self.mNets.count ;
  transient String netUsage dependsFrom self.mNets.count ;
  transient String trackWidthString dependsFrom self.mTrackWidth, self.mTrackWidthUnit ;
  transient String viaHoleDiameter dependsFrom self.mViaHoleDiameter, self.mViaHoleDiameterUnit ;
  transient String viaPadDiameter dependsFrom self.mViaPadDiameter, self.mViaPadDiameterUnit ;
  
  transient String allowTracksOnFrontSideString dependsFrom self.mAllowTracksOnFrontSide ;
  transient String allowTracksOnBackSideString dependsFrom self.mAllowTracksOnBackSide ;
  transient String allowTracksOnInner1LayerString dependsFrom self.mAllowTracksOnInner1Layer ;
  transient String allowTracksOnInner2LayerString dependsFrom self.mAllowTracksOnInner2Layer ;
  transient String allowTracksOnInner3LayerString dependsFrom self.mAllowTracksOnInner3Layer ;
  transient String allowTracksOnInner4LayerString dependsFrom self.mAllowTracksOnInner4Layer ;
  
  transient NetInfoArray netsDescription dependsFrom
    self.mNets,
    self.mNets.all.trackCount,
    self.mNets.all.mNetName,
    self.mNets.all.netSchematicPointsInfo,
    self.mNetClassName ;

  transient Int netWarningCount dependsFrom self.netsDescription ;
}

//———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
